{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kiet Duong\\\\OneDrive\\\\Desktop\\\\coddi-latest\\\\coddi\\\\coddiFront-end\\\\src\\\\components\\\\nav\\\\navHeader.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"../../App.css\";\nimport { logout } from \"../../actions/auth\";\nimport { clearMessage } from \"../../actions/message\";\nimport { history } from \"../../helpers/history\"; // import AuthVerify from \"./common/auth-verify\";\n\nimport EventBus from \"../../common/EventBus\";\nimport logo from \"../../img/CODDI_logo.png\";\n\nclass NavHeader extends Component {\n  constructor(props) {\n    super(props);\n    this.logOut = this.logOut.bind(this);\n    this.state = {\n      showAdminBoard: false,\n      currentUser: undefined\n    };\n    history.listen(location => {\n      props.dispatch(clearMessage()); // clear message when changing location\n    });\n  }\n\n  componentDidMount() {\n    const user = this.props.user;\n\n    if (user) {\n      this.setState({\n        currentUser: user,\n        showAdminBoard: user.roles.includes(\"ROLE_ADMIN\")\n      });\n    }\n\n    EventBus.on(\"logout\", () => {\n      this.logOut();\n    });\n  }\n\n  componentWillUnmount() {\n    EventBus.remove(\"logout\");\n  }\n\n  logOut() {\n    this.props.dispatch(logout());\n    this.setState({\n      showAdminBoard: false,\n      currentUser: undefined\n    });\n  }\n\n  render() {\n    const {\n      currentUser,\n      showAdminBoard\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"nav\", {\n      className: \"navbar navbar-expand navbar-light d-flex justify-content-around\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      className: \"navbar-brand\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"logo\",\n      src: logo,\n      alt: \"logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"navbar-nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/home\",\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, \"Home\")), showAdminBoard && /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/admin/dashboard\",\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 19\n      }\n    }, \"Admin Board\")), currentUser && /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/user\",\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 19\n      }\n    }, \"User\"))))), currentUser ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"navbar-nav ml-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/profile\",\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 15\n      }\n    }, currentUser.username)), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/login\",\n      onClick: this.logOut,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn btn-danger ml-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }\n    }, \"Log Out\")))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"navbar-nav ml-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/login\",\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 15\n      }\n    }, \"Login\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/register\",\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn btn-danger ml-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }\n    }, \"Sign Up\")))));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  const {\n    user\n  } = state.auth;\n  return {\n    user\n  };\n}\n\nexport default connect(mapStateToProps)(NavHeader);","map":{"version":3,"names":["React","Component","Link","connect","logout","clearMessage","history","EventBus","logo","NavHeader","constructor","props","logOut","bind","state","showAdminBoard","currentUser","undefined","listen","location","dispatch","componentDidMount","user","setState","roles","includes","on","componentWillUnmount","remove","render","username","mapStateToProps","auth"],"sources":["C:/Users/Kiet Duong/OneDrive/Desktop/coddi-latest/coddi/coddiFront-end/src/components/nav/navHeader.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"../../App.css\";\r\n\r\nimport { logout } from \"../../actions/auth\";\r\nimport { clearMessage } from \"../../actions/message\";\r\n\r\nimport { history } from \"../../helpers/history\";\r\n\r\n// import AuthVerify from \"./common/auth-verify\";\r\nimport EventBus from \"../../common/EventBus\";\r\nimport logo from \"../../img/CODDI_logo.png\";\r\n\r\nclass NavHeader extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.logOut = this.logOut.bind(this);\r\n\r\n    this.state = {\r\n      showAdminBoard: false,\r\n      currentUser: undefined,\r\n    };\r\n\r\n    history.listen((location) => {\r\n      props.dispatch(clearMessage()); // clear message when changing location\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    const user = this.props.user;\r\n\r\n    if (user) {\r\n      this.setState({\r\n        currentUser: user,\r\n        showAdminBoard: user.roles.includes(\"ROLE_ADMIN\"),\r\n      });\r\n    }\r\n\r\n    EventBus.on(\"logout\", () => {\r\n      this.logOut();\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    EventBus.remove(\"logout\");\r\n  }\r\n\r\n  logOut() {\r\n    this.props.dispatch(logout());\r\n    this.setState({\r\n      showAdminBoard: false,\r\n      currentUser: undefined,\r\n    });\r\n  }\r\n  render() {\r\n    const { currentUser, showAdminBoard } = this.state;\r\n    return (\r\n      <nav className=\"navbar navbar-expand navbar-light d-flex justify-content-around\">\r\n        <div className=\"d-flex justify-content-end\">\r\n          <Link to={\"/\"} className=\"navbar-brand\">\r\n            <img className=\"logo\" src={logo} alt=\"logo\"></img>\r\n          </Link>\r\n\r\n          <div className=\"\">\r\n            <div className=\"navbar-nav\">\r\n              <li className=\"nav-item\">\r\n                <Link to={\"/home\"} className=\"nav-link\">\r\n                  Home\r\n                </Link>\r\n              </li>\r\n\r\n              {showAdminBoard && (\r\n                <li className=\"nav-item\">\r\n                  <Link to={\"/admin/dashboard\"} className=\"nav-link\">\r\n                    Admin Board\r\n                  </Link>\r\n                </li>\r\n              )}\r\n\r\n              {currentUser && (\r\n                <li className=\"nav-item\">\r\n                  <Link to={\"/user\"} className=\"nav-link\">\r\n                    User\r\n                  </Link>\r\n                </li>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {currentUser ? (\r\n          <div className=\"navbar-nav ml-auto\">\r\n            <li className=\"nav-item\">\r\n              <Link to={\"/profile\"} className=\"nav-link\">\r\n                {currentUser.username}\r\n              </Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link to=\"/login\" onClick={this.logOut}>\r\n                <button type=\"button\" class=\"btn btn-danger ml-4\">\r\n                  Log Out\r\n                </button>\r\n              </Link>\r\n            </li>\r\n          </div>\r\n        ) : (\r\n          <div className=\"navbar-nav ml-auto\">\r\n            <li className=\"nav-item\">\r\n              <Link to={\"/login\"} className=\"nav-link\">\r\n                Login\r\n              </Link>\r\n            </li>\r\n\r\n            <li className=\"nav-item\">\r\n              <Link to={\"/register\"} className=\"nav-link\">\r\n                <button type=\"button\" class=\"btn btn-danger ml-4\">\r\n                  Sign Up\r\n                </button>\r\n              </Link>\r\n            </li>\r\n          </div>\r\n        )}\r\n      </nav>\r\n    );\r\n  }\r\n}\r\nfunction mapStateToProps(state) {\r\n  const { user } = state.auth;\r\n  return {\r\n    user,\r\n  };\r\n}\r\nexport default connect(mapStateToProps)(NavHeader);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}