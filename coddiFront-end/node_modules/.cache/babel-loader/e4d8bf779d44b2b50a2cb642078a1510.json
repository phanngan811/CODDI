{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kiet Duong\\\\OneDrive\\\\Desktop\\\\coddi\\\\coddiFront-end\\\\src\\\\components\\\\comment\\\\commentList.component.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport CommentService from \"../../services/comment.service\";\nimport relativeTime from \"dayjs/plugin/relativeTime\";\nimport dayjs from \"dayjs\";\ndayjs.extend(relativeTime);\nexport default function CommentList() {\n  const [comments, setComment] = useState([]);\n  const [text, setText] = useState(\"\");\n  const [idUser, setIdUser] = useState(0);\n  const {\n    questionId\n  } = useParams();\n  useEffect(() => {\n    getComments();\n    getUser();\n  }, []);\n\n  function getUser() {\n    const u = JSON.parse(localStorage.getItem(\"user\"));\n    const idU = u.id;\n    setIdUser(idU);\n    console.log(idU);\n  }\n\n  function getComments() {\n    CommentService.getComments(questionId).then(comment => {\n      setComment(comment.data.Comment);\n    });\n  }\n\n  function createComment() {\n    var data = {\n      text,\n      aQuestion: questionId,\n      author: idUser\n    };\n    CommentService.createComment(data, questionId).then(response => {\n      console.log(response.data);\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  function onChangeText(e) {\n    setText(e.target.value);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"conatiner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, \"Writing your comment here:\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"form-control\",\n    rows: \"6\",\n    onChange: onChangeText,\n    value: text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-success mt-4\",\n    onClick: createComment,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, \"Comment\"), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, \"User id: \", idUser)), comments.map((comment, index) => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"card-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, comment.author.username, \" \", /*#__PURE__*/React.createElement(\"small\", {\n    className: \"fw-normal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }\n  }, dayjs().to(dayjs(comment.createdAt)))), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"card-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, comment.text)))));\n}\n{\n  /* <section style={{ backgroundColor: \"#eee\" }}>\r\n        <div className=\"container my-5 py-5\">\r\n          <div className=\"row d-flex justify-content-center\">\r\n            <div className=\"col-md-12 col-lg-10 col-xl-8\">\r\n              <div className=\"card\">\r\n                <div className=\"card-body\">\r\n                  <div className=\"d-flex flex-start align-items-center\">\r\n                    <div>\r\n                      <h6 className=\"fw-bold text-primary mb-1\">\r\n                        Lily Coleman\r\n                      </h6>\r\n                      <p className=\"text-muted small mb-0\">\r\n                        Shared publicly - Jan 2020\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  <p className=\"mt-3 mb-4 pb-2\">\r\n                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed\r\n                    do eiusmod tempor incididunt ut labore et dolore magna\r\n                    aliqua. Ut enim ad minim veniam, quis nostrud exercitation\r\n                    ullamco laboris nisi ut aliquip consequat.\r\n                  </p>\r\n                </div>\r\n                <div\r\n                  className=\"card-footer py-3 border-0\"\r\n                  style={{ backgroundColor: \"#f8f9fa\" }}\r\n                >\r\n                  <div className=\"d-flex flex-start w-100\">\r\n                    <div className=\"form-outline w-100\">\r\n                      <textarea\r\n                        className=\"form-control\"\r\n                        id=\"textAreaExample\"\r\n                        rows={4}\r\n                        style={{ background: \"#fff\" }}\r\n                        defaultValue={\"\"}\r\n                      />\r\n                      <label className=\"form-label\" htmlFor=\"textAreaExample\">\r\n                        Message\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"float-end mt-2 pt-1\">\r\n                    <button type=\"button\" className=\"btn btn-primary btn-sm\">\r\n                      Post comment\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"btn btn-outline-primary btn-sm\"\r\n                    >\r\n                      Cancel\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section> */\n}","map":{"version":3,"names":["React","useEffect","useState","useParams","CommentService","relativeTime","dayjs","extend","CommentList","comments","setComment","text","setText","idUser","setIdUser","questionId","getComments","getUser","u","JSON","parse","localStorage","getItem","idU","id","console","log","then","comment","data","Comment","createComment","aQuestion","author","response","catch","e","onChangeText","target","value","map","index","username","to","createdAt"],"sources":["C:/Users/Kiet Duong/OneDrive/Desktop/coddi/coddiFront-end/src/components/comment/commentList.component.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport CommentService from \"../../services/comment.service\";\r\nimport relativeTime from \"dayjs/plugin/relativeTime\";\r\nimport dayjs from \"dayjs\";\r\ndayjs.extend(relativeTime);\r\nexport default function CommentList() {\r\n  const [comments, setComment] = useState([]);\r\n  const [text, setText] = useState(\"\");\r\n  const [idUser, setIdUser] = useState(0);\r\n  const { questionId } = useParams();\r\n\r\n  useEffect(() => {\r\n    getComments();\r\n    getUser();\r\n  }, []);\r\n\r\n  function getUser() {\r\n    const u = JSON.parse(localStorage.getItem(\"user\"));\r\n    const idU = u.id;\r\n    setIdUser(idU);\r\n    console.log(idU);\r\n  }\r\n\r\n  function getComments() {\r\n    CommentService.getComments(questionId).then((comment) => {\r\n      setComment(comment.data.Comment);\r\n    });\r\n  }\r\n  function createComment() {\r\n    var data = {\r\n      text,\r\n      aQuestion: questionId,\r\n      author: idUser,\r\n    };\r\n    CommentService.createComment(data, questionId)\r\n      .then((response) => {\r\n        console.log(response.data);\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n      });\r\n  }\r\n  function onChangeText(e) {\r\n    setText(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"conatiner\">\r\n        <label htmlFor=\"\">Writing your comment here:</label>\r\n        <textarea className=\"form-control\" rows=\"6\" onChange={onChangeText} value={text} />\r\n\r\n        <button className=\"btn btn-success mt-4\" onClick={createComment}>\r\n          Comment\r\n        </button>\r\n\r\n        <h5>User id: {idUser}</h5>\r\n      </div>\r\n\r\n      {comments.map((comment, index) => (\r\n        <div className=\"card\" key={index}>\r\n          <div className=\"card-body\">\r\n            <h5 className=\"card-title\">\r\n              {comment.author.username}{\" \"}\r\n              <small className=\"fw-normal\">\r\n                {dayjs().to(dayjs(comment.createdAt))}\r\n              </small>\r\n            </h5>\r\n            <p className=\"card-text\">{comment.text}</p>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\n{\r\n  /* <section style={{ backgroundColor: \"#eee\" }}>\r\n        <div className=\"container my-5 py-5\">\r\n          <div className=\"row d-flex justify-content-center\">\r\n            <div className=\"col-md-12 col-lg-10 col-xl-8\">\r\n              <div className=\"card\">\r\n                <div className=\"card-body\">\r\n                  <div className=\"d-flex flex-start align-items-center\">\r\n                    <div>\r\n                      <h6 className=\"fw-bold text-primary mb-1\">\r\n                        Lily Coleman\r\n                      </h6>\r\n                      <p className=\"text-muted small mb-0\">\r\n                        Shared publicly - Jan 2020\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  <p className=\"mt-3 mb-4 pb-2\">\r\n                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed\r\n                    do eiusmod tempor incididunt ut labore et dolore magna\r\n                    aliqua. Ut enim ad minim veniam, quis nostrud exercitation\r\n                    ullamco laboris nisi ut aliquip consequat.\r\n                  </p>\r\n                </div>\r\n                <div\r\n                  className=\"card-footer py-3 border-0\"\r\n                  style={{ backgroundColor: \"#f8f9fa\" }}\r\n                >\r\n                  <div className=\"d-flex flex-start w-100\">\r\n                    <div className=\"form-outline w-100\">\r\n                      <textarea\r\n                        className=\"form-control\"\r\n                        id=\"textAreaExample\"\r\n                        rows={4}\r\n                        style={{ background: \"#fff\" }}\r\n                        defaultValue={\"\"}\r\n                      />\r\n                      <label className=\"form-label\" htmlFor=\"textAreaExample\">\r\n                        Message\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"float-end mt-2 pt-1\">\r\n                    <button type=\"button\" className=\"btn btn-primary btn-sm\">\r\n                      Post comment\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"btn btn-outline-primary btn-sm\"\r\n                    >\r\n                      Cancel\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section> */\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}